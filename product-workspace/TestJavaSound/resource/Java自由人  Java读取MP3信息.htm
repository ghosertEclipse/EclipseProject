<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0057)http://www.dlog.cn/html/diary/showlog.vm?sid=2&log_id=573 -->
<HTML lang=UTF-8 xmlns="http://www.w3.org/1999/xhtml"><HEAD><TITLE>Java自由人 | Java读取MP3信息</TITLE>
<META http-equiv=Content-Type content="text/html; charset=UTF-8">
<META content=网记,DLOG,DLOG4J,Blog,日记,博客,相册,音乐,论坛,Java自由人 name=Keywords>
<META content=网记——个人信息门户(DLOG.CN) name=Description>
<META content=index,follow name=Robots>
<SCRIPT src="Java自由人  Java读取MP3信息.files/common.js" 
type=text/javascript></SCRIPT>

<SCRIPT src="Java自由人  Java读取MP3信息.files/prototype.js" 
type=text/javascript></SCRIPT>

<SCRIPT src="Java自由人  Java读取MP3信息.files/fckeditor.js" 
type=text/javascript></SCRIPT>
<!--<link rel="SHORTCUT ICON" href="http://www.dlog.cn/favicon.ico"/>--><LINK 
title=RSS href="http://www.dlog.cn/rss.vm?sid=2" type=application/rss+xml 
rel=alternate><LINK href="Java自由人  Java读取MP3信息.files/global.css" type=text/css 
rel=stylesheet><LINK href="Java自由人  Java读取MP3信息.files/main.css" type=text/css 
rel=stylesheet>
<META content="MSHTML 6.00.2800.1589" name=GENERATOR></HEAD>
<BODY>
<DIV id=screen>
<DIV id=head_bar>
<DIV id=float_bar>
<DIV class="logo fleft"><A href="http://www.dlog.cn/"><B>网记首页</B></A>(<A 
href="http://www.dlog.cn/html/bbs/forum.vm?sid=1&amp;fid=12">投诉建议</A>) </DIV>
<DIV class="link fright"><A 
href="http://www.dlog.cn/dlog/reguser.vm?sid=-1&amp;fromPage=%2Fdlog%2Fnew_site.vm"><B>开通个人网记</B></A>&nbsp;|&nbsp; 
<A 
href="http://www.dlog.cn/dlog/login.vm?sid=2&amp;fromPage=%2Fhtml%2Fdiary%2Fshowlog.vm%3Fsid%3D2%26log_id%3D573">登录</A>&nbsp;|&nbsp; 
<A href="http://www.dlog.cn/dlog/reguser.vm?sid=2">注册</A> |&nbsp;<A 
href="http://www.dlog.cn/html/search.vm?sid=2">搜索</A> </DIV>
<DIV class=spacer_1></DIV></DIV></DIV>
<DIV id=window>
<DIV id=page>
<DIV id=banner>
<DIV id=banner_left></DIV>
<DIV id=banner_center>
<DIV id=site_name><A class=nostyle 
href="http://www.dlog.cn/javayou"><B>Java自由人</B></A> &nbsp;&nbsp;&nbsp;&nbsp;<A 
onclick="copy_to_clipboard('http://www.javayou.com');return false;" 
href="http://www.javayou.com/"><SPAN 
class=en9pt>http://www.javayou.com</SPAN></A> (<A 
onclick="copy_to_clipboard('http://www.javayou.com');return false;" 
href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=573#">点击复制</A>,<A 
onclick="bookmark_site('2','Java%E8%87%AA%E7%94%B1%E4%BA%BA') ;return false;" 
href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=573#"><SPAN 
class=en9pt>收藏</SPAN></A>) </DIV>
<DIV id=site_detail>当你不能再拥有时，你唯一能做的，就是让自己不要忘记。 <A 
href="http://www-128.ibm.com/developerworks/search/searchResults.jsp?searchType=1&amp;searchSite=dWChina&amp;pageLang=zh&amp;langEncoding=UTF8&amp;searchScope=dW&amp;query=%E5%88%98%E5%86%AC"><FONT 
color=red><B>我在IBM发表的文章</B></FONT></A></DIV><!--<div id="site_url">http://www.javayou.com</div>-->
<SCRIPT src="Java自由人  Java读取MP3信息.files/prototype.js" 
type=text/javascript></SCRIPT>

<SCRIPT type=text/javascript>
	function bookmark_site(site_id,site_title){
		var random = Math.random()+'';
		var url = '/html/bookmark.do?sid=2&parentId='+site_id+'&parentType=5&eventSubmit_Add='+random+'&title='+site_title;		
    	var myAjax = new Ajax.Request(url,
    	    {method: 'get', onComplete: bookmark_site_response}
    	);
	}
	function bookmark_site_response(originalRequest) {
		alert(originalRequest.responseText);
    }
</SCRIPT>
</DIV>
<DIV id=banner_right></DIV></DIV>
<DIV id=navigator>
<DIV id=channel_bar>
<DIV id=channel_bar_left></DIV>
<DIV id=channel_bar_right></DIV>
<DIV id=channel_bar_center>
<UL>
  <LI id=tb_logo><IMG onclick="location.href='/javayou'" alt="" 
  src="Java自由人  Java读取MP3信息.files/2.gif"></A> </LI>
  <LI><IMG src="Java自由人  Java读取MP3信息.files/navsep2.gif"> </LI>
  <LI id=tb_home><A href="http://www.dlog.cn/javayou">首页</A> </LI>
  <LI id=tb_diary><A href="http://www.dlog.cn/html/diary/?sid=2">日記</A> </LI>
  <LI id=tb_photo><A href="http://www.dlog.cn/html/photo/?sid=2">相册</A> </LI>
  <LI id=tb_music><A href="http://www.dlog.cn/html/music/?sid=2">音樂</A> </LI>
  <LI id=tb_bbs><A href="http://www.dlog.cn/html/bbs/?sid=2">討論</A> </LI>
  <LI id=tb_guestbook><A 
  href="http://www.dlog.cn/html/guestbook.vm?sid=2">留言簿</A> </LI>
  <LI><IMG src="Java自由人  Java读取MP3信息.files/navsep2.gif"> </LI>
  <LI style="PADDING-RIGHT: 5px; FLOAT: right"></LI></UL></DIV></DIV></DIV>
<DIV id=body>
<DIV id=body_content_lelt>
<DIV id=body_content_right>
<TABLE id=body_content cellSpacing=0 cellPadding=0 width="100%">
  <TBODY>
  <TR>
    <TD id=main vAlign=top>
      <DIV class=page_top>
      <DIV class=pagecontent>
      <DIV class="pagecontent_left fleft"><A class=cprevious 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;cat_id=-1&amp;log_id=574">上篇：使用WebLogic搭建企业应用需要注意的一些问题(二)</A> 
      </DIV>
      <DIV class="pagecontent_right fright"><A class=cnext 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;cat_id=-1&amp;log_id=572">下篇：Java 
      在GIS开发中的应用（连载1）</A> </DIV>
      <DIV class=clear></DIV></DIV>
      <DIV class=spacer_1></DIV></DIV>
      <DIV class=page_content>
      <DIV class=main_module>
      <DIV class=diary_title>
      <H2 class=title><A 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;cat_id=-1&amp;log_id=573">Java读取MP3信息</A> 
      </H2>
      <H4 class=author>2005/01/11&nbsp; 作者:<A 
      href="http://www.javayou.com/">梁夏峰</A>&nbsp;&nbsp; 心情:<IMG alt="" 
      src="Java自由人  Java读取MP3信息.files/3.gif" align=absMiddle border=0> <IMG 
      title=sunny alt=sunny src="Java自由人  Java读取MP3信息.files/sunny.gif" 
      align=absMiddle border=0>&nbsp; 星期二 (10:05) </H4>
      <DIV class=clear></DIV></DIV>
      <DIV class=line_dashed></DIV>
      <DIV class=diary_content>
      <P><FONT 
      size=2>现在有很多纯Java开发的MP3播放器，早前就接触过一个jlGui2.0，和WinAmp界面基本已经接近，但在功能表现上还不是很理想，近几天又推出最新2.3版本，已经完成大部分WinAmp的功能，并且在功能的实现上还很不错，这里先贴上一张实际运行的界面，让大家过过眼：</FONT></P>
      <P><FONT size=2><IMG alt="" 
      src="Java自由人  Java读取MP3信息.files/200501100210100312.jpg" 
      border=0></FONT></P>
      <P><FONT 
      size=2>如果对比过jlGui2.0和2.3，大家可能会有很深的印象，之间在界面和功能上都有很大的差距，2.0还称不上叫产品，但2.3已经可以称为比较专业的产品了，估计再往下开发，大家都不一定再能认出这是Java开发的MP3播放器 
      :)</FONT></P>
      <P><FONT 
      size=2>由于播放器封装的东西很多，所以想从浅往深了解不是很方便，现在就干脆找来底层开发MP3的Library：JLayer，可别小看它，下面列出了很多MP3开发的项目都是基于它为基础的，把JLayer介绍过后，再来看看如何进行高级功能的扩展。</FONT></P>
      <P><FONT size=2>JLayer是一套Open 
      Source的Java类库，可以在不同的OS下使用，提供对MP3进行实时解码、转换和播放。1.0版本在04年11月发布，支持MPEG 
      1/2/2.5、Layer 1/2/3 audio 
      format，JLayer不需要JMF，此外JLayer不仅有J2SE版本，而且还提供J2ME版：JLayerMe，以提供在手机上进行应用开发。1.0版本在JRE5下的运行速度快，消耗低（CPU仅消耗1%），下面列出采用JLayer为基础的MP3项目：</FONT></P>
      <P><FONT size=2>jlGui ---------- MP3 player, WinAmp clone.<BR>MP3SPI 
      --------- MP3 plugin for J2SE.<BR>JLayer C# ------ C# port of 
      JLayer.<BR>MP3View -------- JLayer Eclipse Plugin.<BR>Plaberbu ------- 
      Karaoke MP3 player.<BR>jAmp ----------- Another WinAmp clone.<BR>Human 
      iPod ----- Halloween funny contest.<BR>KJ Player ------ Cross-fading MP3 
      player<BR>PartyJukeBox --- JukeBox player<BR>JavaTunes ------ Another 
      JukeBox player.<BR>MediaChest ----- Media organizer. <BR>LightDev ------- 
      Spectrum Analyzer. </FONT></P>
      <P><FONT size=2>下面列表是J2SE版和J2ME版的比较：</FONT></P>
      <P>
      <TABLE cellSpacing=1 cellPadding=2 width="100%" border=1>
        <TBODY>
        <TR>
          <TD><FONT size=2>&nbsp;特征</FONT></TD>
          <TD><FONT size=2>JLayer</FONT></TD>
          <TD><FONT size=2>JLayerME</FONT></TD></TR>
        <TR>
          <TD><FONT size=2>JVM</FONT></TD>
          <TD><FONT size=2>J2SE</FONT></TD>
          <TD><FONT size=2>J2SE, J2ME</FONT></TD></TR>
        <TR>
          <TD><FONT size=2>音频支持</FONT></TD>
          <TD><FONT size=2>MPEG 1/2/2.5 Layer 1/2/3</FONT></TD>
          <TD><FONT size=2>MPEG 1 Layer 3&nbsp;</FONT></TD></TR>
        <TR>
          <TD><FONT size=2>内存</FONT></TD>
          <TD><FONT size=2>1380KB to 1900KB</FONT></TD>
          <TD><FONT size=2>760KB to 1280KB</FONT></TD></TR>
        <TR>
          <TD><FONT size=2>JAR大小</FONT></TD>
          <TD><FONT size=2>105KB</FONT></TD>
          <TD><FONT size=2>46KB</FONT></TD></TR>
        <TR>
          <TD><FONT size=2>License</FONT></TD>
          <TD><FONT size=2>LGPL</FONT></TD>
          <TD><FONT size=2>LGPL</FONT></TD></TR>
        <TR>
          <TD><FONT size=2>状态</FONT></TD>
          <TD><FONT size=2>Stable</FONT></TD>
          <TD><FONT size=2>Beta</FONT></TD></TR></TBODY></TABLE><BR><FONT 
      size=2>下图展示了JLayer提供项目支持的架构：</FONT></P>
      <P><FONT size=2><IMG alt="" 
      src="Java自由人  Java读取MP3信息.files/200501100210240796.gif" 
      border=0></FONT></P>
      <P><FONT size=2>图中上面部分：Plugins是一套独立的部件，基于JLayer 
      API，Mpeg音频SPI插件实现了JavaSound1.0 
      的服务接口，使Mpeg音频格式的开发者也能象操作播放WAV一样方便。</FONT></P>
      <P><FONT 
      size=2>在图中下面部分，是应用开发层，其中Core部分是JLayer提供的Mpeg音频解码，而jlApps是一个轻量级的用于提供给用户使用的部分，即用户界面、控制台和播放列表等等部分，其中Convert是个小工具，可以把MP3转换成WAV，但目前暂时还没提供WAV到MP3的转换。</FONT></P>
      <P><FONT 
      size=2>下载JLayer1.0并解压后，只需要修改它的build-win32.bat，指定正确的JAVA_HOME和JL变量，分别是jdk的目录和JLayer所在的目录，这样就可以编辑src目录下的源码了，运行build-win32.bat即可完成编译和打包等工作。</FONT></P>
      <P><FONT size=2>使用下面的命令运行播放MP3：<BR>java -cp .\classes; 
      javazoom.jl.player.jlp vincent.mp3</FONT></P>
      <P><FONT 
      size=2>简单分析：<BR>程序的入口是javazoom.jl.player.jlp，一个基本的操作过程如下：<BR>1、把mp3播放文件加载到InputStream；<BR>2、生成AudioDevice，声音设备；<BR>3、生成Player，一个具体的播放器；<BR>4、通过Player.play()进行歌曲播放。</FONT></P>
      <P><FONT 
      size=2>歌曲在JLayer里处理是被分成一个个的Frame，连续对Frame进行解码和播放，直到歌曲播放完毕。</FONT></P>
      <P><FONT 
      size=2>下面接下来继续讲述高级问题，即我们都知道每首MP3歌曲里都带有一些属性如标题、歌手、专辑等等，我们来看看怎么把这些内容解析出来：</FONT></P>
      <P><FONT 
      size=2>1、需要类包：mp3spi1.9.1.jar、tritonus_share.jar，可以下载jlGui2.3项目的压缩包，解压后在它的lib包里得到，copy到上面JLayer项目的目录下，也可以在下面回帖并写上email，我尽快给你发；</FONT></P>
      <P><FONT size=2>2、修改build-win32.bat，把下面2段：<BR>cd %JLSIMPLEPLAYER%<BR>javac 
      -classpath %JL%\classes -d %JL%\classes *.java<BR>&gt;&gt;&gt; 改为 
      &gt;&gt;&gt;：<BR>cd %JLSIMPLEPLAYER%<BR>javac -classpath 
      %JL%\classes;%JL%\tritonus_share.jar; -d %JL%\classes *.java</FONT></P>
      <P><FONT size=2>即在编译时增加tritonus_share.jar的路径；</FONT></P>
      <P><FONT size=2>3、在src\javazoom\jl\player\里编辑 jlp.java，用文本编辑即可；</FONT></P>
      <P><FONT size=2>4、增加如下类包：</FONT></P>
      <P>
      <TABLE cellSpacing=1 cellPadding=2 width="100%" bgColor=#dddddd 
        border=1><TBODY>
        <TR>
          <TD><FONT size=1>import javazoom.jl.decoder.*;<BR>import 
            javax.sound.sampled.AudioFileFormat;<BR>import 
            javax.sound.sampled.AudioSystem;<BR>import 
            org.tritonus.share.sampled.file.TAudioFileFormat;<BR>import 
            java.util.*;<BR>import java.io.*;</FONT></TD></TR></TBODY></TABLE></P>
      <P>5、main的方法里，在“player.play(); ”之前增加：</P>
      <P>
      <TABLE cellSpacing=1 cellPadding=2 width="100%" bgColor=#dddddd 
        border=1><TBODY>
        <TR>
          <TD><FONT size=1>File ff = new 
            File(player.fFilename);<BR>AudioFileFormat aff = 
            AudioSystem.getAudioFileFormat(ff);<BR>loadInfo(aff);<BR>aff = 
            null;<BR>ff = null;</FONT></TD></TR></TBODY></TABLE></P>
      <P>即打印MP3的资料；</P>
      <P>6、jlp类增加方法 loadInfo 如下，主要用于打印MP3的参数：</P>
      <P>
      <TABLE cellSpacing=1 cellPadding=2 width="100%" bgColor=#dddddd 
        border=1><TBODY>
        <TR>
          <TD><FONT size=1>protected static void loadInfo(AudioFileFormat aff) 
            <BR>&nbsp;&nbsp;&nbsp; throws Exception {<BR>&nbsp;&nbsp;&nbsp; 
            System.out.println("[MP3 info] 
            ---------------------");<BR>&nbsp;&nbsp;&nbsp; String type = 
            aff.getType().toString();<BR>&nbsp;&nbsp;&nbsp; if 
            (!type.equalsIgnoreCase("mp3")) 
            <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new 
            Exception("Not MP3 audio format");<BR>&nbsp;&nbsp;&nbsp; if (aff 
            instanceof TAudioFileFormat) 
            {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Map props = 
            ((TAudioFileFormat) 
            aff).properties();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println("title: 
            "+props.get("title"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println("author: 
            "+props.get("author"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println("album: 
            "+props.get("album"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            if (props.containsKey("mp3.mode")) 
            {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            String channelsMode = 
            "";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            int mode = 
            <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            ((Integer)props.get("mp3.mode")).intValue();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            if (mode==0) 
            <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            channelsMode = 
            "Stereo";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            else if (mode==1) 
            <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            channelsMode = "Joint Stereo"; 
            <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            else if (mode==2) 
            <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            channelsMode = "Dual 
            Channel";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            else if (mode==3) 
            <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            channelsMode = "Single 
            Channel";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println("mode: 
            "+channelsMode);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            }<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            ("channels: 
            "+props.get("mp3.channels"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            ("rate: 
            "+props.get("mp3.frequency.hz"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println("nominalbitrate: 
            "+<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            props.get("mp3.bitrate.nominal.bps"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            ("layer: 
            "+props.get("mp3.version.layer"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            if (props.containsKey("mp3.version.mpeg")) 
            {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            String version = 
            (String)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            props.get("mp3.version.mpeg");<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            if (version.equals("1")) 
            <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            version = "MPEG1"; 
            <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            else if (version.equals("2")) 
            <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            version = 
            "MPEG2-LSF";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            else if (version.equals("2.5")) 
            <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            version = 
            "MPEG2.5-LSF";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println("version: 
            "+version);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            }<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println("crc: 
            "+props.get("mp3.crc"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println("vbr: 
            "+props.get("mp3.vbr"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            ("copyright: 
            "+props.get("mp3.copyright"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            ("original: 
            "+props.get("mp3.original"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            ("date: 
            "+props.get("date"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            ("duration: 
            "+props.get("duration"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            ("genre: 
            "+props.get("mp3.id3tag.genre"));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            System.out.println<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            ("track: 
            "+props.get("mp3.id3tag.track"));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <BR>&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; 
      <BR>}</FONT></TD></TR></TBODY></TABLE></P>
      <P>6、以上存盘，运行build-win32.bat，进行自动编译、打包；</P>
      <P>7、在JLayer项目的目录路径下，再用命令运行播放MP3：<BR>java -cp .\classes; 
      javazoom.jl.player.jlp vincent.mp3</P>
      <P>这时候会发现MP3内带的不少资料已经打印出来，大功告成！</P>
      <P><IMG alt="" src="Java自由人  Java读取MP3信息.files/200501111009500125.gif" 
      border=0></P>
      <P>最后需要注意的是，以上都是以英文mp3来调试的，在中文歌曲方面，还有些特性需要处理，包括上面使用的mp3spi1.9.1.jar也有需要调整的地方，如各位有兴趣，请深入这个问题吧 
      :)</P>
      <P><BR>相关资源：<BR><A 
      href="http://sourceforge.net/projects/javalayer/">http://sourceforge.net/projects/javalayer/</A></P>
      <P><A 
      href="http://www.javazoom.net/jlgui/jlgui.html">http://www.javazoom.net/jlgui/jlgui.html</A></P>
      <DIV class=spacer_20></DIV>
      <DIV class=keyword><B>关键字:</B> <A 
      href="http://www.dlog.cn/html/showtag.vm?sid=2&amp;type=1&amp;tag=mp3"><B>mp3</B></A>&nbsp; 
      </DIV>
      <DIV class=trackback><B>引用地址:</B> <SPAN 
      class=en9pt>http://www.dlog.cn/html/trackback.do?id=573&amp;type=1 (<A 
      onclick="return copy_to_clipboard('http://www.dlog.cn/html/trackback.do?log_id=573&amp;type=1')" 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=573#">复制地址</A>) 
      </SPAN></DIV>
      <DIV class=clear></DIV></DIV>
      <DIV class=line_dashed></DIV>
      <DIV class=diary_foot><A 
      href="http://www.dlog.cn/html/diary/?sid=2&amp;cat_id=4">工作手记</A> | 评论(<A 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;cat_id=-1&amp;log_id=573#replies">1</A>) 
      | 阅读(4910) | Trackback(0) | <A class=img_setting 
      onclick="bookmark('573','Java%E8%AF%BB%E5%8F%96MP3%E4%BF%A1%E6%81%AF') ;return false;" 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=573#"><IMG 
      title=保存此文为书签 alt="" src="Java自由人  Java读取MP3信息.files/bookmark.gif" 
      align=absMiddle border=0> </A>
      <SCRIPT src="Java自由人  Java读取MP3信息.files/prototype.js" 
      type=text/javascript></SCRIPT>

      <SCRIPT type=text/javascript>
    	function bookmark(log_id,log_title){
    		var random = Math.random()+'';
    		var url = '/html/bookmark.do?sid=2&parentId='+log_id+'&parentType=1&eventSubmit_Add='+random+'&title='+log_title;		
        	var myAjax = new Ajax.Request(url,
        	    {method: 'get', onComplete: ajax_diary_response}
        	);
    	}
		    	function ajax_diary_response(originalRequest) {
    		alert(originalRequest.responseText);
        }
    </SCRIPT>

      <DIV class=clear></DIV></DIV></DIV></DIV>
      <DIV 
      style="PADDING-RIGHT: 10px; PADDING-LEFT: 10px; PADDING-BOTTOM: 10px; LINE-HEIGHT: 20px; PADDING-TOP: 10px"><B>≡≡≡ 
      相关日记 ≡≡≡</B><BR>1. <A 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=6919">MSN无法登录......咔！</A> 
      (2007-03-28 星期三 13:25)<BR>2. <A 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=1873">9个基于flash的音乐播放器</A> 
      (2006-07-11 星期二 14:57)<BR>3. <A 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=921">星期天</A> 
      (2005-08-28 星期日 10:50)<BR>4. <A 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=526">~晚餐~</A> 
      (2004-12-17 星期五 09:27)<BR>5. <A 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=700">我和RH9&nbsp;+&nbsp;JDK1.4.2&nbsp;+&nbsp;NPTL&nbsp;不得不说的故事</A> 
      (2005-03-22 星期二 08:23)<BR>6. <A 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=1113">泉州洛阳桥</A> 
      (2006-01-04 星期三 19:43)<BR>7. <A 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=960">醉不够</A> 
      (2005-09-25 星期日 08:25)<BR>8. <A 
      href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=564">~房事一二~(歌)</A> 
      (2005-01-05 星期三 16:27)<BR></DIV>
      <DIV class=page_footer>
      <DIV class=pagecontent>
      <DIV class="pagecontent_left fleft"><A name=#replies></A><B>≡≡≡ 网友评论 
      ≡≡≡</B> </DIV>
      <DIV class="pagecontent_right fright"></DIV>
      <DIV class=clear></DIV></DIV>
      <DIV class=spacer_1></DIV>
      <DIV class=comment>
      <DIV class=comment_title><A name=2013></A>
      <DIV class=fleft><IMG title=WEB alt="" 
      src="Java自由人  Java读取MP3信息.files/pc.gif" align=absMiddle border=0> <A 
      href="http://www.dlog.cn/dlog/viewuser.vm?sid=2&amp;uid=279"><B>jing</B></A> 
      网友说： </DIV>
      <DIV class=fright>2005/01/11 星期二 14:47 &nbsp;&nbsp; </DIV></DIV>
      <DIV class=comment_content>
      <P>都这么强<IMG height=15 src="" width=15 border=0></P></DIV>
      <DIV class=comment_footer></DIV></DIV>
      <DIV class=spacer_5></DIV>
      <DIV class=reply>
      <FORM name=rplform onsubmit="return validateReplyForm(this);" 
      action=/html/reply.do method=post>
      <DIV class=comment_form><A name=#reply></A><B>≡≡≡ 发表评论 ≡≡≡</B><BR><INPUT 
      type=hidden value=0 name=clientType> <INPUT type=hidden value=2 name=sid> 
      <INPUT type=hidden value=573 name=log_id> <INPUT type=hidden 
      value=2CEFDD49755F1AA7048ADA91BE30BB6D03A8E75CE6915C726BCF7EE5A54F796706F875C770829EB5 
      name=__ClientId> <INPUT type=hidden value=573 name=parentId> <INPUT 
      type=hidden value=HTML name=eventSubmit_AddDiaryReply> 
      <DIV class=comment_form_item>称呼:&nbsp;<INPUT maxLength=20 size=10 
      name=author> </DIV>
      <DIV class=comment_form_item>邮箱:&nbsp;<INPUT maxLength=50 
      name=authorEmail>&nbsp;{可选} </DIV>
      <DIV class=comment_form_item>网址:&nbsp;<INPUT maxLength=50 
      name=authorURL>&nbsp;{可选} <INPUT type=checkbox value=1 
      name=ownerOnly>此评论只有我和写日记的人查阅 </DIV>
      <DIV class=comment_form_item><TEXTAREA style="WIDTH: 100%; HEIGHT: 150px" name=content></TEXTAREA> 
      </DIV>
      <DIV class=comment_form_item>校验码:&nbsp;<INPUT maxLength=4 size=5 
      name=verifyCode>&nbsp;<IMG class=verifyCode 
      src="Java自由人  Java读取MP3信息.files/verify.gif"> <INPUT class=button onclick=this.disabled=true;rplform.submit(); type=submit value=添加评论 name=eventSubmit_AddDiaryReply> 
      </DIV></DIV></FORM></DIV>
      <SCRIPT type=text/javascript>
        window.onload = function()
        {
            var sBasePath = document.location.pathname.substring(0,document.location.pathname.lastIndexOf('html')) ;    
            var oFCKeditor = new FCKeditor( 'content' ) ;
            oFCKeditor.BasePath    = sBasePath ;
            oFCKeditor.Height = 180;
            oFCKeditor.ToolbarSet = "Basic";
            oFCKeditor.ReplaceTextarea() ;
        }
        
        function validateReplyForm(theForm)
        {
            with(theForm){
                if(is_empty(author.value)){
                    alert("username is required.");
                    author.focus();
                    return false;
                }
                if(not_empty(authorEmail.value) && !is_email(authorEmail.value)){
                    alert("email error.");
                    authorEmail.focus();
                    return false;
                }
            }
            return true;
        }
		function SetFont(size){
        	document.getElementById("imlog_content").style.fontSize=size
        }
    </SCRIPT>
      </DIV></TD>
    <TD id=side vAlign=top>
      <DIV class=embed_module_top></DIV>
      <DIV class=embed_module>
      <DIV class=module_title><B>日记分类</B></DIV>
      <DIV class=module_content><SPAN class=diary_link><A 
      href="http://www.dlog.cn/html/diary/?sid=2&amp;cat_id=6">~回忆~(373)</A></SPAN> 
      <SPAN class=diary_link><A 
      href="http://www.dlog.cn/html/diary/?sid=2&amp;cat_id=4">工作手记(454)</A></SPAN> 
      <SPAN class=diary_link><A 
      href="http://www.dlog.cn/html/diary/?sid=2&amp;cat_id=3">逸事杂言(39)</A></SPAN> 
      <SPAN class=diary_link><A 
      href="http://www.dlog.cn/html/diary/?sid=2&amp;cat_id=5">转贴の文字(88)</A></SPAN> 
      <SPAN class=diary_link><A 
      href="http://www.dlog.cn/html/diary/?sid=2&amp;cat_id=7">DLOG4J(29)</A></SPAN> 
      <SPAN class=diary_link><A 
      href="http://www.dlog.cn/html/diary/?sid=2&amp;cat_id=8">自由论坛(106)</A></SPAN> 
      </DIV>
      <DIV class=module_foot></DIV></DIV>
      <DIV class=embed_module>
      <DIV class=module_title><B>日历</B></DIV>
      <DIV class=module_content>
      <DIV class=mydate_title><A class=calendar_next 
      href="http://www.dlog.cn/html/diary/?sid=2&amp;year=2007&amp;month=4">«</A> 
      &nbsp;<B>2007</B>&nbsp;<B>5</B>&nbsp; <A class=calendar_next 
      href="http://www.dlog.cn/html/diary/?sid=2&amp;year=2007&amp;month=6">»</A> 
      </DIV>
      <DIV class=clear></DIV>
      <DIV id=mydate>
      <DIV><SPAN class=mydate_calendar>日</SPAN></DIV>
      <DIV><SPAN class=mydate_calendar>一</SPAN></DIV>
      <DIV><SPAN class=mydate_calendar>二</SPAN></DIV>
      <DIV><SPAN class=mydate_calendar>三</SPAN></DIV>
      <DIV><SPAN class=mydate_calendar>四</SPAN></DIV>
      <DIV><SPAN class=mydate_calendar>五</SPAN></DIV>
      <DIV><SPAN class=mydate_calendar>六</SPAN></DIV>
      <DIV></DIV>
      <DIV></DIV>
      <DIV><SPAN class=mydate_day>1</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>2</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>3</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>4</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>5</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>6</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>7</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>8</SPAN> </DIV>
      <DIV><A class=mydate_countday title="<b>1</b> 篇文章" 
      href="http://www.dlog.cn/html/diary/?sid=2&amp;year=2007&amp;month=5&amp;date=9"><SPAN 
      class=calendar_aday>9</SPAN> </A></DIV>
      <DIV><SPAN class=mydate_day>10</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>11</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>12</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>13</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>14</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>15</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>16</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>17</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>18</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>19</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>20</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>21</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>22</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>23</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>24</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>25</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>26</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>27</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>28</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>29</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>30</SPAN> </DIV>
      <DIV><SPAN class=mydate_day>31</SPAN> </DIV>
      <DIV></DIV>
      <DIV></DIV></DIV>
      <DIV class=spacer_5></DIV></DIV>
      <DIV class=module_foot></DIV></DIV>
      <DIV class=embed_module>
      <DIV class=module_title><B>最新评论</B></DIV>
      <DIV class=module_content>
      <UL>
        <LI><A 
        href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=7258#12238">to 
        aeonsun:...</A> </LI>
        <LI><A 
        href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=1113#12222">呵呵，又来这，这次可到...</A> 
        </LI>
        <LI><A 
        href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=5256#12221">您据此实现了winmo...</A> 
        </LI>
        <LI><A 
        href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=8180#12200">和你一样。。。。。。。...</A> 
        </LI>
        <LI><A 
        href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=7258#12171">建议使用IDEA 
        这个...</A> </LI>
        <LI><A 
        href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=8007#12167">噢..明白了.</A> 
        </LI>
        <LI><A 
        href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=8007#12166">扣了分还要交钱的啊?五...</A> 
        </LI>
        <LI><A 
        href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=8007#12165">你干了啥违章的事了?</A> 
        </LI>
        <LI><A 
        href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=7258#12163">netbeans的速度...</A> 
        </LI>
        <LI><A 
        href="http://www.dlog.cn/html/diary/showlog.vm?sid=2&amp;log_id=8180#12149">如果。。。问：你们...</A> 
        </LI>
        <LI class=module_more><A 
        href="http://www.dlog.cn/html/diary/j_replies.vm?sid=2">more...</A> 
      </LI></UL></DIV>
      <DIV class=module_foot></DIV></DIV>
      <DIV class=embed_module>
      <DIV class=module_title><B>网站统计</B></DIV>
      <DIV class=module_content>
      <UL>
        <LI>建站时间: 2004/01/16 </LI>
        <LI>日记：1220 篇 </LI>
        <LI>照片：242 张 </LI>
        <LI>话题：38 篇 </LI>
        <LI>评论：3915 篇 </LI>
        <LI>注册用户：<A href="http://www.dlog.cn/html/users.vm?sid=2">3104</A> </LI>
        <LI>今日访问：565 </LI>
        <LI>本周访问：5669 </LI>
        <LI>本月访问：18992 </LI>
        <LI>全部访问：1477617 </LI></UL></DIV>
      <DIV class=module_foot></DIV></DIV>
      <DIV class=embed_module>
      <DIV class=module_title></DIV>
      <DIV class=module_content align=center><A class=sm_support 
      href="http://www.dlog.cn/rss.vm?sid=2&amp;tid=1"><IMG 
      src="Java自由人  Java读取MP3信息.files/rss.gif" border=0></A> <A class=sm_support 
      href="http://validator.w3.org/check?uri=referer" target=_blank><IMG 
      src="Java自由人  Java读取MP3信息.files/xhtml.png" border=0></A> <A 
      class=sm_support href="http://jigsaw.w3.org/css-validator/" 
      target=_blank><IMG src="Java自由人  Java读取MP3信息.files/css.png" border=0></A> 
      <A class=sm_support href="http://www.mozilla.org/products/firefox/" 
      target=_blank><IMG src="Java自由人  Java读取MP3信息.files/firefox.gif" 
      border=0></A> <A class=sm_support href="http://www.opera.com/" 
      target=_blank><IMG src="Java自由人  Java读取MP3信息.files/opera.gif" 
      border=0></A> <A class=sm_support href="http://www.dlog.cn/" 
      target=_blank><IMG src="Java自由人  Java读取MP3信息.files/dlog4j.gif" 
      border=0></A> </DIV>
      <DIV class=module_foot></DIV></DIV>
      <DIV class=embed_module_bottom></DIV></TD></TR>
  <TR>
    <TD id=body_content_bottom vAlign=top colSpan=2><A 
      href="http://www.dlog.cn/javayou">Java自由人</A>&nbsp; 
      ™&nbsp;2007&nbsp;©&nbsp;All Right Reserved.&nbsp;&nbsp; Powered by <A 
      href="http://dlog4j.sourceforge.net/" 
      target=_blank>DLOG4J</A>&nbsp;3.0&nbsp; &nbsp;<A 
      href="http://www.miibeian.gov.cn/" target=_blank>粤ICP备05012058号</A> 
  </TD></TR></TBODY></TABLE></DIV></DIV></DIV></DIV></DIV></DIV>
<DIV id=footer>
<DIV id=footer_lelt></DIV>
<DIV id=footer_right></DIV></DIV></BODY></HTML>
